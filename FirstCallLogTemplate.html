<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>First Call Log - Fixed Version</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      font-size: 10px;
      margin: 0;
      padding: 0;
      background-color: #f9f9f9;
      color: #333;
    }
    h1 {
      text-align: center;
      color: #0056b3;
      font-size: 14px;
    }
    .form-container {
      width: 100%;
      max-width: 600px;
      margin: 10px auto;
      padding: 10px;
      background-color: #fff;
      border-radius: 5px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
    .section {
      margin-bottom: 10px;
    }
    .section-title {
      font-weight: bold;
      margin-bottom: 5px;
      font-size: 12px;
      color: #0056b3;
    }
    label {
      font-weight: bold;
      display: inline-block;
      width: 40%;
    }
    input, textarea, select {
      display: inline-block;
      width: 55%;
      border: 1px solid #ccc;
      border-radius: 3px;
      padding: 5px;
      font-size: 10px;
      margin-bottom: 5px;
    }
    button {
      background-color: #0056b3;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 5px;
      font-size: 12px;
      cursor: pointer;
      margin: 10px auto;
    }
    button:hover {
      background-color: #003f7f;
    }
  </style>
</head>
<body>
  <h1>First Call Transport Log</h1>
  <div class="form-container" id="pdf-content">
    <select id="language-selector">
      <option value="en" selected>English</option>
      <option value="es">Espa√±ol</option>
    </select>

    <!-- Caller Information -->
    <div class="section">
      <div class="section-title">Organization/Caller Information</div>
      <label for="funeral-home">Organization:</label>
      <input type="text" id="funeral-home"><br>
      <label for="funeral-home-address">Address:</label>
      <input type="text" id="funeral-home-address"><br>
      <label for="contact-number">Contact Number:</label>
      <input type="tel" id="contact-number"><br>
      <label for="call-type">Call Type:</label>
      <select id="call-type"></select>
    </div>

    <!-- Deceased Details -->
    <div class="section">
      <div class="section-title">Deceased Details</div>
      <label for="deceased-location">Deceased's Location:</label>
      <select id="deceased-location"></select><br>
      <div id="additional-fields"></div>
    </div>
  </div>

  <script>
    const translations = {};
    async function loadTranslations(language) {
      const response = await fetch('./pdf_form_translations.json');
      const data = await response.json();
      translations[language] = data[language];
      return data[language];
    }

    async function updateTranslations(language) {
      const texts = translations[language] || await loadTranslations(language);
      document.querySelector("h1").textContent = texts.header_title;
      document.querySelector("label[for='funeral-home']").textContent = texts.funeral_home;
      document.querySelector("label[for='funeral-home-address']").textContent = texts.address;
      document.querySelector("label[for='contact-number']").textContent = texts.contact_number;
      populateDropdown("call-type", texts.call_types);
      populateDropdown("deceased-location", texts.deceased_locations);
    }

    function populateDropdown(id, options) {
      const dropdown = document.getElementById(id);
      dropdown.innerHTML = options.map(opt => `<option value="${opt.value}">${opt.label}</option>`).join('');
    }

    function handleLocationChange() {
      const locationType = document.getElementById("deceased-location").value;
      const additionalFields = document.getElementById("additional-fields");
      additionalFields.innerHTML = '';
      if (locationType === 'residence') {
        additionalFields.innerHTML = `
          <label for="residence-address">Residence Address:</label>
          <input type="text" id="residence-address"><br>
          <label for="floor">Floor:</label>
          <select id="floor">
            <option value="ground">Ground</option>
            <option value="upstairs">Upstairs</option>
            <option value="downstairs">Downstairs</option>
          </select><br>
        `;
      }
    }

    document.getElementById("language-selector").addEventListener("change", (e) => {
      updateTranslations(e.target.value);
    });

    document.getElementById("deceased-location").addEventListener("change", handleLocationChange);

    document.addEventListener("DOMContentLoaded", async () => {
      await updateTranslations("en");
    });
  </script>
</body>
</html>







